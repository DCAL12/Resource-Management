<div class="dialog">

	<h1>Request a Resource</h1>

	<form name="createRequest" method="post" novalidate ng-submit="createRequest.$valid && 
			viewModel.requestWidget.createRequest.submit()">

		<table>
			<tr>
				<td>
					<label for="resourceType">Resource Type</label>
				</td>
				<td>
					<select id="resourceType" 
						name="resourceType" 
						ng-options="resourceType._id as resourceType.type for resourceType in viewModel.resourceTypes" 
						ng-model="viewModel.requestWidget.createRequest.data._resourceType">
							<option value="">--select a resource type--</option>
					</select>
				</td>
			</tr>

			<tr>
				<td>
					<label for="quantity">Quantity</label>
				</td>
				<td>
					<input type="number" 
						id="quantity" 
						name="quantity" 
						ng-model="viewModel.requestWidget.createRequest.data.quantity" 
						min=1
						required>
				</td>
			</tr>

			<tr>
				<td>
					<label for="startTime">Start Date</label>
				</td>
				<td>
					<input type="date" 
						id="startDate" 
						name="startDate" 
						ng-model="viewModel.requestWidget.createRequest.data.startDate" 
						required>
				</td>
			</tr>

			<tr>
				<td>
					<label for="endTime">End Date</label>
				</td>
				<td>
					<input type="date" 
						id="endDate" 
						name="endDate" 
						ng-model="viewModel.requestWidget.createRequest.data.endDate" 
						required>
				</td>
			</tr>
			
			<tr>
				<td>
					<label for="comments">Comments</label>
				</td>
				<td>
					<input type="text" 
						id="comments" 
						name="comments" 
						ng-model="viewModel.requestWidget.createRequest.data.comments">
				</td>
			</tr>
			
		</table>

		<input type="submit" value="Submit">
		<span ng-show="viewModel.requestWidget.createRequest.processing">
	    	Processing...
	    </span>

		<div class="status" ng-show="createRequest.$submitted">
			<ul>
				<li class="error" ng-show="createRequest.quantity.$error.required">
					a quantity is required
				</li>
				<li class="error" ng-show="createRequest.startDate.$error.required">
					a start date is required
				</li>
				<li class="error" ng-show="createRequest.endDate.$error.required">
					an end date is required
				</li>
			</ul>
		</div>

	</form>
</div>