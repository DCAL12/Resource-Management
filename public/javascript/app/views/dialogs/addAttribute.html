<div class="dialog">
	<h1 ng-bind="'Add an attribute to the ' + viewModel.resourceTypes.selected.type + ' schema'"></h1>

	<form 
		name="addAttribute" 
		method="put" 
		novalidate
		ng-submit="addAttribute.$valid && 
			viewModel.resourceWidget.addAttribute.submit()">
		
		<table>
			<tr>
				<td>
					<label for="name">Attribute Name</label>
				</td>
				<td>
					<input 
				    	type="text" 
						id="name" 
						name="name" 
						ng-model="viewModel.resourceWidget.addAttribute.data.name" 
						autofocus
						required>	
				</td>
			</tr>
			
			<tr>
				<td>
					<label for="type">Data Type</label>	
				</td>
				<td>
					<select 
						id="type" 
						name="type" 
						form="addAttribute"
						ng-model="viewModel.resourceWidget.addAttribute.data.type"
						required>
							<option selected>String</option>
							<option>Number</option>
							<option>Date</option>
							<option>Boolean</option>
					</select>	
				</td>
			</tr>
			
			<tr>
				<td>
					<label for="required">Required</label>	
				</td>
				<td>
					<input 
						type="checkbox" 
						id="required" 
						name="required"
						ng-model="viewModel.resourceWidget.addAttribute.data.required"
						value="required">	
				</td>
			</tr>
			
			<tr ng-show="viewModel.resourceWidget.addAttribute.data.required">
				<td>
					<label for="unique">Unique</label>	
				</td>
				<td>
					<input
					type="checkbox" 
					id="unique" 
					name="unique"
					ng-model="viewModel.resourceWidget.addAttribute.data.unique"
					value="unique">		
				</td>
			</tr>
		</table>
		
	    <input type="submit" value="Add">
	    <span ng-show="viewModel.addAttribute.processing">
	    	Processing...
	    </span>
	    
	    <div class="status" ng-show="addAttribute.$submitted">
	    	<ul>
	    		<li 
	    			class="error" 
	    			ng-show="addAttribute.name.$error.required">
	    			A unique attribute name is required
	    		</li>
	    		<li 
	    			class="error" 
	    			ng-show="addAttribute.type.$error.required">
	    			An attribute data type is required
	    		</li>
	    	</ul>
	    </div>
	   
	</form>	
</div>